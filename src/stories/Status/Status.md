<!--
 * @Description: 输入文件描述信息
 * @Author: liu-wb
 * @Date: 2022-03-01 13:15:08
 * @LastEditTime: 2022-03-02 13:13:39
-->

# 通用状态逻辑

| 字典         | 0      | 1    | 2      | 3      | 8      | 91   | 98   | 99   |
| ------------ | ------ | ---- | ------ | ------ | ------ | ---- | ---- | ---- |
| 状态         | 禁用   | 启用 |        |        |        |      |      |      |
| 是否         | 否     | 是   |        |        |        |      |      |      |
| 能否         | 不能   | 能   |        |        |        |      |      |      |
| 销售合同状态 | 待审   | 正常 |        |        |        |      | 停供 | 终止 |
| 采购合同状态 | 待审   | 正常 |        |        |        |      | 停供 | 终止 |
| 生产计划状态 | 待审核 | 开盘 | 待生产 | 待配比 | 待开盘 | 暂停 | 停供 | 终止 |
| 采购计划状态 | 待审核 | 开盘 |        |        | 待开盘 | 暂停 | 停供 | 终止 |

* 操作与前状态、后状态
![操作与前状态、后状态](https://markdown-image-space.liu-wb.com/image/202203021313376.png)

1. 所有1代表可以正常使用，其它都代表不能正常使用

2. 状态分为流程类状态和切换类状态，流程类状态的命名以“待”开头，切换状态的命名不以“待”开头，为一个状态。

   以生产计划状举例：

    * 流程类状态

   ![](http://markdown-image-space.liu-wb.com//image/202202262212565.png)

   除“开盘”外，其它均为流程状态，上面的为操作按钮。可以看了，整个流程单向不可逆。

    * 切换状态

   切换状态名本身都是按钮，大部分可以双向切换

   | 按钮     | 允许状态 |      |      |      |
           | -------- | -------- | ---- | ---- | ---- |
   | 待开盘   | 开盘     | 暂停 | 停供 |      |
   | 开盘     | √        |      | √    |      |
   | 暂停     |          | √    |      |      |
   | 停供     | √        | √    | √    |      |
   | 终止     | √        | √    | √    | √    |
   | 恢复供应 |          |      |      | √    |

    * 操作对应状态

   | 按钮     | 0    | 1      | 2      | 3      | 8    | 91   | 98   |
           | -------- | ---- | ------ | ------ | ------ | ---- | ---- | ---- |
   | 待审核   | 开盘 | 待生产 | 待配比 | 待开盘 | 暂停 | 停供 |      |
   | 核准通过 | √    |        |        |        |      |      |      |
   | 安排生产 |      |        | √      |        |      |      |      |
   | 下发配比 |      |        |        | √      |      |      |      |
   | 开盘     |      |        |        |        | √    | √    |      |
   | 暂停     |      | √      |        |        |      |      |      |
   | 停供     |      | √      |        |        | √    | √    |      |
   | 终止     |      | √      |        |        | √    | √    | √    |
   | 恢复供应 |      |        |        |        |      |      | √    |

